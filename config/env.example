# GitHub Actions Runner Configuration
# Copy this file to .env and update with your values

# ============================================================================
# GITHUB CONFIGURATION (Required)
# ============================================================================

# GitHub Repository URL - use this for repository-level runners
# Example: https://github.com/myorg/myrepo
GITHUB_REPO_URL=

# OR use this for organization-level runners
# Example: myorg
GITHUB_ORG=

# GitHub Personal Access Token (Required)
# Scopes needed: repo (full), workflow
# Create at: https://github.com/settings/tokens
GITHUB_TOKEN=ghp_xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx

# ============================================================================
# RUNNER CONFIGURATION
# ============================================================================

# Runner name (auto-generated if not specified)
RUNNER_NAME=runner-01

# Comma-separated labels for the runner
# These labels help identify runners for workflow targeting
RUNNER_LABELS=podman,linux,docker,x86_64

# Working directory for runner (relative to runner home)
RUNNER_WORK_DIR=./_work

# Enable ephemeral mode - runner will cleanup after each job
# Useful for CI/CD pipelines that prefer fresh environments
RUNNER_EPHEMERAL=false

# Replace existing runner configuration if found
RUNNER_REPLACE=true

# ============================================================================
# MULTI-RUNNER CONFIGURATION (for docker-compose)
# ============================================================================

# Additional runner names and configurations for multi-runner deployments
RUNNER_NAME_2=runner-02
RUNNER_LABELS_2=podman,linux,docker,x86_64
RUNNER_EPHEMERAL_2=false
RUNNER_REPLACE_2=true

RUNNER_NAME_3=runner-03
RUNNER_LABELS_3=podman,linux,docker,x86_64
RUNNER_EPHEMERAL_3=false
RUNNER_REPLACE_3=true

# ============================================================================
# RESOURCE LIMITS
# ============================================================================

# CPU limits for container
# Examples: "2", "2.5", "0.5"
RUNNER_CPUS=2

# Memory limits for container
# Examples: "2G", "2048M", "1G"
RUNNER_MEMORY=2G

# Reserved resources
RUNNER_CPUS_RESERVED=1
RUNNER_MEMORY_RESERVED=1G

# ============================================================================
# VOLUME CONFIGURATION
# ============================================================================

# Runner work directory volume name or path
# Example: runner-work (named volume) or /opt/gha (host path mount)
# For 50GB mounted storage: /opt/gha
RUNNER_WORK_VOLUME=/opt/gha

# SSH key path for private repository access (optional)
# Mount SSH keys as read-only volume
SSH_KEY_PATH=

# ============================================================================
# DOCKER/PODMAN CONFIGURATION
# ============================================================================

# Container image name
IMAGE_NAME=github-actions-runner

# Image tag
IMAGE_TAG=latest

# Container registry (optional, for private registries)
# Example: myregistry.azurecr.io
REGISTRY=

# ============================================================================
# ADVANCED CONFIGURATION
# ============================================================================

# User and group configuration
# Podman will run under this user (security best practice)
RUNNER_USER=gha
RUNNER_GROUP=gha

# Systemd service name (for Linux systemd deployment)
SERVICE_NAME=github-actions-runner

# Systemd service description
SERVICE_DESCRIPTION="GitHub Actions Self-Hosted Runner"

# Systemd service user (runs as gha user for security)
SYSTEMD_USER=gha
SYSTEMD_GROUP=gha

# Systemd restart policy
SYSTEMD_RESTART=always

# Number of restart attempts before giving up
SYSTEMD_RESTART_SEC=5

