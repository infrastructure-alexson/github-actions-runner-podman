# Drop-in configuration for github-actions-runner.service
# Copy to: /etc/systemd/system/github-actions-runner.service.d/override.conf
# Then reload: sudo systemctl daemon-reload
# 
# This file allows customization without modifying the original service file

[Service]
# Resource limits customization
# Adjust these based on your system capabilities
MemoryLimit=4G
CPUQuota=400%
CPUAccounting=yes
MemoryAccounting=yes
TasksMax=512

# Restart behavior customization
Restart=on-failure
RestartSec=10
StartLimitInterval=600
StartLimitBurst=3

# Logging
StandardOutput=journal
StandardError=journal
SyslogIdentifier=github-runner

# Security options
ProtectSystem=strict
ProtectHome=yes
ReadWritePaths=/opt/gha /home/gha

# Timeout customization
TimeoutStartSec=120
TimeoutStopSec=30

# Optional: Enable to auto-restart on boot
# After=network-online.target
# Wants=network-online.target

